<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize the player's stats
hp = 5;
maxhp = hp;
level = 1;
expr = 0;
maxexpr = 3;
keys = 0;
deaths = 0;
starting_hp = hp;
starting_expr = expr;
starting_level = level;
starting_keys = keys;
starting_inventory = noone;
//frames till next move
spd = 9;
//frames till next attack
attack_spd = 30;


inventory = noone;
inventory[0] = obj_item_stats.emptyw;
inventory[1] = obj_item_stats.emptyi;
inventory[2] = obj_item_stats.emptyi;
inventory[3] = obj_item_stats.emptyi;
inventory[4] = obj_item_stats.emptyi;
starting_inventory = inventory;

//for world select
var player = 1;
var total = 0;
world_complete = noone
world_complete[0, total] = 100;
world_complete[0, player] = 30;

//for quests
quest_log = noone;
current_quest = -1;
//quest_log[quest number,
//0 = completed or currently working on (if completed show reward received)
//1 = quest_dialog (what to do next)
//2 = quest title
//2 = other info about the quest?

//examples for testing only
quest_log[0, 0] = false;
quest_log[0, 1] = "Title of Quest0";
quest_log[0, 2] = "Do this next0";


quest_log[1, 0] = true;
quest_log[1, 1] = "Title of Quest1";
quest_log[1, 2] = "Do this next1";


quest_log[2, 0] = true;
quest_log[2, 1] = "Title of Quest2";
quest_log[2, 2] = "Do this next2";


quest_log[3, 0] = false;
quest_log[3, 1] = "Title of Quest3";
quest_log[3, 2] = "Do this next3";


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Control the stats

//set max and min health
if (hp &lt; 0) hp = 0;
else if (hp &gt; maxhp) hp = maxhp;

//level up
while(expr&gt;=maxexpr){
    level++;
    expr-=maxexpr;
    maxexpr=round(maxexpr*1.5);
}

// if you die 
if(hp &lt;= 0){
    deaths++;
    hp = starting_hp;
    expr = starting_expr;
    level = starting_level;
    keys = starting_keys;
    inventory = starting_inventory;
    room_restart();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>starting_hp = hp;
starting_expr = expr;
starting_level = level;
starting_keys = keys;
starting_inventory = inventory;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw stats
var scale = display_get_gui_width()/view_wview[0];
if(obj_control.game_state == PLAY) {
    draw_set_colour(c_black);
    draw_text(92,16, "Health: "+string(hp)+"/"+string(maxhp));
    draw_text(92,32, "Level: "+string(level));
    draw_text(92,48, "Keys: "+string(keys));
    draw_text(92,64, "Deaths: "+string(deaths));
}

if(current_quest &gt; 0 and obj_control.game_state == PLAY) {
    if(array_height_2d(quest_log) &gt; current_quest){
        draw_set_colour(c_black);
        var xx = display_get_gui_width()-sprite_get_width(spr_notification_bottom)*scale
        var yy = display_get_gui_height()-sprite_get_height(spr_notification_bottom)*scale
        draw_sprite_ext(spr_notification_bottom, 0, xx, yy, scale, scale, 0, -1, 1)
        draw_text_ext(xx+20, yy+20, quest_log[current_quest, 2], 14, (sprite_get_width(spr_notification_bottom))*scale-30);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
